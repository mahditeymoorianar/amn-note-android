 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/app/src/main/java/com/teymoorianar/amnnote/ui/note/NoteActivity.kt b/app/src/main/java/com/teymoorianar/amnnote/ui/note/NoteActivity.kt
index 397677c10ae1654c0bfe8aee34a855448e97d42b..807d5491adc7176a581709ad196650f3839fd09c 100644
--- a/app/src/main/java/com/teymoorianar/amnnote/ui/note/NoteActivity.kt
+++ b/app/src/main/java/com/teymoorianar/amnnote/ui/note/NoteActivity.kt
@@ -373,52 +373,56 @@ private fun NoteEditorScreen(
         val imeVisible = isImeVisible()
         Box(
             modifier = Modifier
                 .fillMaxSize()
                 .padding(innerPadding)
         ) {
             Column(
                 modifier = Modifier
                     .fillMaxSize()
                     .padding(16.dp)
                     .verticalScroll(scrollState),
                 verticalArrangement = Arrangement.spacedBy(16.dp)
             ) {
                 if (state.isLoading) {
                     Row(
                         modifier = Modifier.fillMaxWidth(),
                         horizontalArrangement = Arrangement.Center
                     ) {
                         CircularProgressIndicator()
                     }
                 }
 
                 FormattedTextField(
                     value = contentField,
                     onValueChange = { newValue ->
-                        contentField = newValue
-                        onContentChange(newValue.text)
+                        val processedValue = handleListAutoFormatting(
+                            oldValue = contentField,
+                            newValue = newValue
+                        )
+                        contentField = processedValue
+                        onContentChange(processedValue.text)
                     },
                     modifier = Modifier
                         .fillMaxWidth()
                         .fillMaxHeight()
                         .onFocusChanged { focusState ->
                             val nowFocused = focusState.isFocused
                             if (nowFocused && state.readingMode) {
                                 switchEditMode(false) // <-- your custom function
                             }
                         },
 //                label = { Text(text = stringResource(id = R.string.note_content_label)) },
                     placeholder = { Text("Write here...") },
                     minLines = 40,
                     maxLines = Int.MAX_VALUE,
                     colors = TextFieldDefaults.colors(
                         unfocusedContainerColor = Color.Transparent,
                         focusedContainerColor = Color.Transparent,
                         disabledContainerColor = Color.Transparent,
                         focusedIndicatorColor = Color.Transparent,
                         unfocusedIndicatorColor = Color.Transparent
                     ),
                     textStyle = TextStyle(
                         fontSize = 20.sp
                     )
                 )
@@ -546,43 +550,87 @@ private fun ToolChip(
             modifier = Modifier
                 .clip(RoundedCornerShape(16.dp))
                 .padding(start = 2.dp, end = 6.dp, top = 6.dp, bottom = 6.dp)
         ) {
             IconButton(onClick = onClick, modifier = Modifier) {
                 Icon(painter = painterResource(item.iconRes),
                     contentDescription = item.label,
                     tint = item.color?: Color(0xFFFFFFFF)
                 )
             }
             Text(text = item.label, maxLines = 1, overflow = TextOverflow.Ellipsis)
         }
     }
 }
 
 /**
  * Helper you can use to know whether the IME is visible.
  * (No extra dependencies needed; uses insets height in px.)
  */
 @Composable
 fun isImeVisible(): Boolean {
     val bottomPx = WindowInsets.ime.getBottom(LocalDensity.current)
     return bottomPx > 0
 }
 
+private val bulletLineRegex = Regex("^([\\t ]*)- (.*)$")
+
+private fun handleListAutoFormatting(
+    oldValue: TextFieldValue,
+    newValue: TextFieldValue
+): TextFieldValue {
+    val newSelection = newValue.selection
+    if (!newSelection.collapsed) return newValue
+
+    if (newValue.text.length != oldValue.text.length + 1) return newValue
+
+    val cursor = newSelection.start
+    if (cursor == 0 || cursor > newValue.text.length) return newValue
+
+    if (newValue.text[cursor - 1] != '\n') return newValue
+
+    val newlineIndex = cursor - 1
+    val lineStart = newValue.text.lastIndexOf('\n', newlineIndex - 1).let { index ->
+        if (index == -1) 0 else index + 1
+    }
+    if (lineStart > newlineIndex) return newValue
+
+    val lineContent = newValue.text.substring(lineStart, newlineIndex)
+    val match = bulletLineRegex.matchEntire(lineContent) ?: return newValue
+
+    val indent = match.groupValues[1]
+    val afterDash = match.groupValues[2]
+
+    return if (afterDash.isBlank()) {
+        val builder = StringBuilder(newValue.text)
+        builder.delete(lineStart, newlineIndex)
+        val updatedText = builder.toString()
+        val newCursor = cursor - (newlineIndex - lineStart)
+        newValue.copy(text = updatedText, selection = TextRange(newCursor))
+    } else {
+        val insertion = indent + "- "
+        val builder = StringBuilder(newValue.text)
+        builder.insert(cursor, insertion)
+        val updatedText = builder.toString()
+        val newCursor = cursor + insertion.length
+        newValue.copy(text = updatedText, selection = TextRange(newCursor))
+    }
+}
+
 private fun writingToolsDemo(): List<ToolItem> = listOf(
     ToolItem("ltr", R.drawable.rounded_format_textdirection_l_to_r_24, ""),
     ToolItem("rtl", R.drawable.rounded_format_textdirection_r_to_l_24, ""),
     ToolItem("bold", R.drawable.rounded_format_bold_24,        ""),
     ToolItem("italic", R.drawable.rounded_format_italic_24,      ""),
     ToolItem("heading",        R.drawable.tag_24px,          ""),
     ToolItem("bullet",    R.drawable.rounded_format_list_bulleted_24, ""),
     ToolItem("indent-inc",    R.drawable.format_indent_increase_24px, ""),
     ToolItem("indent-dec",    R.drawable.format_indent_decrease_24px, ""),
     ToolItem("H1",    R.drawable.format_h1_24px, ""),
     ToolItem("H2",    R.drawable.format_h2_24px, ""),
     ToolItem("H3",    R.drawable.format_h3_24px, ""),
     ToolItem("H4",    R.drawable.format_h4_24px, ""),
     ToolItem("H5",    R.drawable.format_h5_24px, ""),
     ToolItem("delete",    R.drawable.delete_24px, "", color = Color(0xFfCf0000)),
 //    ToolItem("code",      R.drawable.rounded_checkbook_24,        ""), TODO
 //    ToolItem("quote",     R.drawable.rounded_checkbook_24,       ""), TODO
 )
 
EOF
)